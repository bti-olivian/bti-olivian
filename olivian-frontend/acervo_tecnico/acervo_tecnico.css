/* ===============================
¬† ¬†FONTES
================================ */
@font-face {
font-family: 'Inter';
src: url('fonts/Inter-VariableFont_opsz,wght.ttf') format('truetype');
/* üí° Melhoria: Adicionado 'font-display: swap' para melhor performance de carregamento (evita o FOUT) */
font-display: swap; 
}

/* ======================== */
/* 1. Estilos Globais e do Corpo */
/* ======================== */
:root {
/* Cores de Texto e Fundo */
--text-color-light: #cfcfcf;
--text-color-dark: #333;
/* üí° Melhoria: Cor de BG do Card ajustada para ser um pouco mais opaca para legibilidade */
--bg-card-hover: rgba(255, 255, 255, 0.15); 
--bg-card-dark: #FCFCFC;
--border-color: rgba(255, 255, 255, 0.18);
--bg-principal: #f4f4f4;
--primary-color: #6a11cb; /* Cor prim√°ria gen√©rica (roxo) */

/* Cores OLIVIAN */
--cor-olvian-primaria: #9D3972; 
--cor-alerta: #FF9800;
--cor-erro: #dc3545;
--cor-info: #007bff;
--cor-fundo-hover: #F8F4F7;
/* üí° Nova Vari√°vel: Para o cinza padr√£o de √≠cones/textos neutros */
--color-neutral-text: #6c757d; 
}

html, body {
margin: 0;
padding: 0;
font-family: 'Inter', Helvetica, sans-serif;
background-color: var(--bg-principal);
/* üí° Corre√ß√£o: Usar min-height: 100vh permite que o conte√∫do cres√ßa al√©m da tela se necess√°rio. */
height: 100%; 
color: var(--text-color-dark);
/* üí° Ajuste: 'bold' pode ser muito forte. Sugest√£o: '600' ou 'normal' para o corpo, e 'bold' apenas em t√≠tulos. */
font-weight: normal; 
/* üí° Ajuste: Removido 'overflow: hidden' do body para evitar problemas com modais/tooltips que precisam de scroll.
¬† ¬†A restri√ß√£o de overflow deve ser aplicada apenas √† 'content-area'. */
}

/* ======================== */
/* 2. Layout Principal */
/* ======================== */
.main-container {
display: flex;
/* üí° Ajuste: Garante que o container ocupe a altura total dispon√≠vel no viewport */
height: 100vh; 
}

/* ======================== */
/* 3. Sidebar (Barra Lateral) */
/* ======================== */
.sidebar {
    width: 200px;
    background-color: #fcfcfc;
    padding: 10px;
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    color: var(--text-color-dark);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.sidebar-header {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: -10px;
}

.sidebar-logo {
    width: 250px;
    margin-left: -20px;
}

.sidebar-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.sidebar-nav {
    margin-bottom: 5px;
    margin-top: -25px;
}

.sidebar-nav .nav-item img {
  opacity: 0.3;
  transition: opacity 0.3s ease;
}

.sidebar-nav .nav-item:hover img {
  opacity: 1;
}

.sidebar-nav .nav-item:hover a {
  color: rgb(0, 0, 0,0.5);
}

.sidebar-nav .nav-item.active a {
  color: #9D3972;
}

.sidebar-nav .nav-item.active img {
  opacity: 1;
}

.sidebar-divider {
    width: 5px;
    height: 100%;
    background-image: url('../Imagens/fundo_sistema.png');
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-position: center;
}

.nav-item a {
    display: flex;
    align-items: center;
    padding: 17px 15px;
    color: #b1b1b1;
    text-decoration: none;
    border-radius: 8px;
    transition: background-color 0.3s ease;
    font-weight: bold;
    font-size: 12px;
}

.nav-item a:hover {
    background-color: var(--bg-card);
}

.nav-item img {
    width: 20px;
    margin-right: 10px;
}

.sidebar-footer {
    text-align: center;
    margin-top: auto;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.footer-logo {
    width: 80px;
}


/* ======================== */
/* 4. √Årea de Conte√∫do Principal */
/* ======================== */
.content-area {
flex-grow: 1;
background-color: var(--bg-principal);
/* üí° Corre√ß√£o: 'overflow-y: auto' para permitir scroll apenas na √°rea de conte√∫do se necess√°rio. */
overflow-y: auto; 
display: flex;
flex-direction: column;
}


/* --- Content Header (Topo da Aplica√ß√£o) --- */
.content-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: var(--text-color-dark);
    background-color: #FCFCFC;
    width: 100%;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    padding: 7px 0;
    margin-top: -3px;
}

.user-profile {
    padding-right: 20px;
    font-size: 10px;
    color: #2E0470;
    font-weight: normal;
    text-align: right;
}

.user-profile-name {
    font-size: 15px;
    font-weight: bold;
}

.client-profile {
    padding-left: 20px;
    font-size: 10px;
    color: #2E0470;
    font-weight: normal;
}

.client-profile-name {
    font-size: 25px;
    font-weight: bold;
}

.content-header .client-profile span,
.content-header .user-profile span {
    display: block;
}


/* Se√ß√£o de M√©tricas */
.metrics-section {
display: flex;
gap: 10px; /* Ajuste para espa√ßamento mais comum */
}

.metrics-card {
background-color: var(--bg-card-dark); /* üí° Usando vari√°vel */
padding: 10px 10px; /* Ajuste de padding */
border-radius: 10px;
box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* Sombra mais sutil */
display: flex;
flex-direction: column;
align-items: center;
text-align: center;
flex: 1;
min-width: 100px; /* Ajustado para ser mais flex√≠vel */
}

.metrics-card img {
width: 35px; /* Leve ajuste no √≠cone */
margin-bottom: 5px;
}

.card-title {
font-size: 11px; /* Leve aumento para legibilidade */
color: #9C9C9C;
margin-bottom: 5px;
margin-top: 10px;
font-weight: 500;
}

.card-number {
font-size: 36px; /* Leve ajuste no n√∫mero */
font-weight: 800;
color: var(--cor-olvian-primaria); /* üí° Usando vari√°vel */
}

/* Estrutura de Colunas */
.main-content-flex {
display: flex;
flex-direction: row;
gap: 10px;
/* üí° Corre√ß√£o: Usa 'flex: 1' ou 'height: auto' se a content-area tiver scroll.
¬† ¬†Ajustei para que o conte√∫do preencha o espa√ßo restante. */
flex: 1; 
padding: 10px 12px 12px 12px; /* Ajuste de padding na parte inferior */
min-height: 0; /* Essencial para flex-item com overflow */
}

.left-column {
display: flex;
flex-direction: column;
width: 280px; /* Leve aumento para acomodar mais conte√∫do */
flex-shrink: 0;
min-height: 100%; /* Garante que preencha a altura do main-content-flex */
}

.right-column {
display: flex;
flex-direction: column;
flex-grow: 1;
gap: 10px;
min-width: 0;
min-height: 100%; /* Garante que preencha a altura do main-content-flex */
}

/* Card Acervo T√©cnico */
.acervo-tecnico-card {
background-image: url('../Imagens/fundo_sistema.png');
background-size: cover;
color: white;
border-radius: 10px 10px 0 0;
padding: 20px; /* Ajuste de padding */
height: 100px; /* Ajuste de altura */
display: flex;
flex-direction: column;
justify-content: center;
flex-shrink: 0; /* Garante que n√£o diminua */
}

.acervo-tecnico-card .card-title {
color: white;
font-size: 24px;
font-weight: 700;
text-align: center;
width: 100%;
margin-bottom: 0;
text-transform: none; /* Mant√©m como est√°, sem for√ßar uppercase */
}

.acervo-tecnico-card .card-info {
text-align: right;
margin-top: 15px;
}

.acervo-tecnico-card .card-number {
color: white;
font-size: 45px;
}

.acervo-tecnico-card .card-description {
color: white;
font-size: 11px;
display: block;
font-weight: 300;
margin-top: -8px;
}

/* Lista de Normas */
.acervo-content-full {
flex-grow: 1;
display: flex;
flex-direction: column;
background-color: var(--bg-card-dark); /* üí° Usando vari√°vel */
padding: 10px; /* Ajuste de padding */
border-radius: 0 0 10px 10px;
min-height: 0;
box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* Sombra sutil */
}

.search-box {
width: 100%;
position: relative;
margin-bottom: 10px; /* Ajuste de margem */
}

.search-icon {
position: absolute;
top: 50%;
left: 10px; /* Ajuste de posi√ß√£o */
transform: translateY(-50%);
width: 16px; /* Leve ajuste */
opacity: 0.5;
pointer-events: none;
}

.search-box input {
background-color: rgba(217, 217, 217, 0.3);
padding: 8px 8px 8px 30px; /* Ajuste do padding para o √≠cone */
border: 1px solid rgba(0, 0, 0, 0.1); /* Borda sutil */
border-radius: 8px;
width: 100%;
box-sizing: border-box;
font-size: 12px;
color: var(--text-color-dark);
text-align: left;
transition: all 0.2s ease-in-out;
}

.search-box input::placeholder {
text-align: left; /* Sugest√£o: Alinhar √† esquerda mesmo */
transition: all 0.2s ease-in-out;
color: #999;
}

.search-box input:focus {
border-color: var(--cor-olvian-primaria);
box-shadow: 0 0 0 1px var(--cor-olvian-primaria);
}

.search-box input:focus::placeholder {
opacity: 0.3;
}

.normas-list-container {
flex-grow: 1;
overflow-y: auto;
/* üí° Corre√ß√£o: Removido 'height: 70px;' pois flex-grow: 1 j√° define a altura no layout flex√≠vel */
overflow-x: hidden;
}

.norma-item {
display: flex;
align-items: center;
padding: 8px; /* Ajuste de padding */
border-radius: 8px;
margin-bottom: 8px; /* Ajuste de margem */
cursor: pointer;
transition: transform 0.2s ease, background-color 0.2s ease;
font-size: 12px;
font-weight: 700;
}

.normas-header {
margin-bottom: 5px; /* Ajuste de margem */
font-size: 14px;
font-weight: bold;
color: #555;
}

.norma-item:hover, .norma-item.active {
background-color: var(--cor-fundo-hover); /* üí° Usando vari√°vel */
transform: translateX(3px); /* Movimento mais sutil */
}

.status-bolinha {
width: 8px; /* Leve ajuste */
height: 8px; /* Leve ajuste */
border-radius: 50%;
flex-shrink: 0;
margin-right: 6px;
}

.status-atualizado { background-color: #28a745; }
.status-desatualizado { background-color: #dc3545; }

/* Detalhes da Norma */
.norma-details-container {
flex-grow: 1;
background-color: var(--bg-card-dark); /* üí° Usando vari√°vel */
padding: 25px; /* Aumento do padding */
border-radius: 10px;
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
overflow-y: auto; /* Permite scroll no conte√∫do se for muito longo */
min-height: 0; /* Essencial para flex-item com overflow */
}

.details-header {
display: flex;
justify-content: space-between;
align-items: center; /* Alinhamento superior */
margin-bottom: 15px;
border-bottom: 1px solid rgba(0, 0, 0, 0.05); /* Separador suave */
padding-bottom: 10px;
}

.details-header h2 {
font-size: 30px;
color: var(--text-color-dark);
font-weight: 800;
margin: 0;
line-height: 1.2;
}

.details-buttons { display: flex; align-items: center; gap: 20px; }
.details-buttons button { background: none; border: none; cursor: pointer; padding: 0; }
.norma-label { font-size: 30px; font-weight:900; color: var(--cor-olvian-primaria); } /* Destaque */
.favs-icon { width: 24px; height: 24px; stroke: var(--color-neutral-text); fill: none; transition: all 0.2s ease-in-out; }
#favorite-btn.favorita .favs-icon { fill: #ffc107; stroke: #ffc107; }
#favorite-btn:hover .favs-icon { transform: scale(1.1); }
.comment-count-container { display: flex; align-items: center; gap: 5px; cursor: pointer; }
.comment-icon { width: 20px; height: auto; opacity: 0.7; }
.comment-count { font-size: 16px; font-weight: bold; color: var(--color-neutral-text); }

.details-content { display: flex; flex-direction: column; gap: 10px; margin-top: 5px; }
.info-description { font-weight: 500; font-size: 14px; color: #555; }
.info-idioma { font-size: 13px; color: #888; }
.info-label-atual, .info-label-cliente { font-weight: 700; font-size: 14px; margin-top: 5px; }
.info-label-atual { color: #360AFA; }
.status-group { display: flex; align-items: center; gap: 8px; font-size: 14px; }
.info-label-obs { font-weight: bold; font-size: 13px; color: #666; }
.info-value { font-size: 12px; font-weight: 400; color: #444; }

.selection-fields-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; }
.field-group { display: flex; flex-direction: column; gap: 5px; }
.add-label { font-size: 11px; font-weight: 700; color: #888; text-transform: uppercase; }
/* .custom-select { ... seus estilos de custom-select ... } */

/* ======================================================= */
/* POPUP E FORMUL√ÅRIO (Modais) */
/* ======================================================= */
.modal-overlay { 
display: none; 
position: fixed; 
z-index: 1000; 
left: 0; 
top: 0; 
width: 100%; 
height: 100%; 
background-color: rgba(0, 0, 0, 0.7); /* Fundo mais escuro para destaque */
justify-content: center; 
align-items: center; 
}
.modal-content-large { 
background-color: #fff; 
padding: 30px; /* Leve aumento */
border-radius: 10px; 
box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4); 
width: 90%; 
max-width: 950px; /* Aumento do max-width para melhor uso do espa√ßo */
height: 80vh; /* Altura m√°xima para melhor visualiza√ß√£o do conte√∫do interno */
display: flex;
flex-direction: column;
position: relative; 
overflow: hidden;
}
.modal-grid { 
display: grid; 
grid-template-columns: 350px 1fr; /* Coluna de formul√°rio com largura fixa */
gap: 30px;
flex: 1; /* Permite que a grade preencha o espa√ßo restante */
min-height: 0;
}
.modal-col-form { 
border-right: 1px solid #f0f0f0; 
padding-right: 30px; 
display: flex;
flex-direction: column;
}
.modal-col-list {
display: flex;
flex-direction: column;
min-height: 0;
}
.close-button { 
position: absolute; 
top: 15px; 
right: 15px; 
font-size: 24px; 
font-weight: normal; 
color: #888; 
background: none; 
border: none; 
cursor: pointer; 
padding: 5px;
line-height: 1;
}
.close-button:hover { color: #333; transform: rotate(90deg); transition: transform 0.3s; }
.modal-content-large h2 { 
margin-top: 0; 
margin-bottom: 20px; 
color: #333; 
font-size: 22px;
}
.form-group { margin-bottom: 12px; }
.form-group label { 
display: block; 
margin-bottom: 4px; 
font-weight: 600; 
color: #555; 
font-size: 13px;
}
.form-group input, .form-group textarea, .custom-select { 
font-family: 'Inter', Helvetica, sans-serif; 
width: 100%; 
padding: 10px; 
border: 1px solid #ddd; 
border-radius: 6px; 
font-size: 13px; 
box-sizing: border-box; 
transition: border-color 0.2s;
}
.form-group input:focus, .form-group textarea:focus {
border-color: var(--cor-olvian-primaria);
outline: none;
}
.form-group textarea { resize: vertical; min-height: 80px; }
.modal-actions { 
display: flex; 
justify-content: flex-end; 
gap: 10px; 
margin-top: 25px; 
padding-top: 15px;
border-top: 1px solid #f0f0f0;
}
.button-primary { 
background-color: var(--cor-olvian-primaria); 
color: white; 
border: none; 
padding: 10px 20px;
border-radius: 6px;
font-weight: 700; 
cursor: pointer; 
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
transition: all 0.2s ease-in-out;
text-transform: uppercase;
font-size: 12px;
}

.button-primary:hover { 
background-color: #7A2859;
box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
transform: translateY(-1px);
}
.button-secondary { 
background-color: #f0f0f0; 
color: #555; 
border: 1px solid #ccc; 
padding: 10px 20px; 
border-radius: 6px; 
font-weight: 600; 
cursor: pointer;
font-size: 12px;
transition: background-color 0.2s;
}
.button-secondary:hover {
background-color: #e0e0e0;
}


/* ======================================================= */
/* LISTA DE COMENT√ÅRIOS NO POPUP (REFINAMENTO FINAL) */
/* ======================================================= */
.popup-item-list { max-height: 400px; overflow-y: auto; padding-right: 10px; }

/* ======================================================= */
/* NOVO: REGRAS PARA O CONT√äINER DE THREAD (A CAIXA ARREDONDADA) */
/* ======================================================= */

.thread-container {
    /* Mant√©m o estilo de card (borda, sombra, padding) */
    background-color: #ffffff;
    border-radius: 10px;
    padding: 10px 15px;
    
    /* üéØ √öLTIMO RECURSO: ZERA MARGEM PARA FOR√áAR OS CARDS A FICAREM JUNTOS */
    margin-bottom: 5px !important; /* Diminui drasticamente a margem de separa√ß√£o */
    
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
    border: 1px solid #eee;
    padding-bottom: 0 !important;
    display: flex;
    flex-direction: column;
}

/* Estilo BASE do Coment√°rio (USADO PELO PAI E FILHO) - SOBRESCRITA FOR√áADA */
.comentario-item { 
    margin-bottom: 0 !important;
    padding-bottom: 5px !important;
}

/* Regra para COMENT√ÅRIOS FILHOS (RESPOSTAS) - Garante a margem do JS */
.comentario-item[data-parent-id]:not([data-parent-id="null"]) { 
    /* Margem top para separar a resposta do coment√°rio principal */
    margin-top: 10px !important; /* Mant√©m a separa√ß√£o vertical APENAS entre os itens internos */
    margin-bottom: 5px !important; 
    padding-right: 10px;
}

.comentario-item:hover {
background-color: var(--cor-fundo-hover);
}

/* ======================================================= */
/* 2. TIPOGRAFIA E METADADOS */
/* ======================================================= */

.nome-norma {
color: var(--cor-olvian-primaria);
font-weight: bold;
display: block; 
margin-top: 3px; 
margin-bottom: 5px; 
font-size: 0.85em; 
}

.comentario-header { 
display: flex; 
justify-content: space-between; 
align-items: flex-start; 
margin-bottom: 2px;
}

.comentario-autor { 
font-weight: 700 !important; 
color: #333 !important;
font-size: 0.95em !important; 
display: inline-block; 
margin-right: 5px;
}

.comentario-data { 
font-size: 0.70em !important; 
color: #999 !important; 
font-weight: normal !important;
vertical-align: top;
margin-left: auto;
}

/* CORRE√á√ÉO DO OVERFLOW E QUEBRA DE LINHA */
.comentario-descricao { 
font-weight: 600;
color: #444;
margin-bottom: 2px;
font-size: 0.85em;
word-break: break-word; 
overflow-wrap: break-word;
}

.comentario-texto {
margin: 2px 0 0 0; 
font-size: 0.85em; 
word-wrap: break-word; 
font-weight: normal; 
color: #555;
word-break: break-word; 
overflow-wrap: break-word;
}

.comentario-actions {
text-align: right;
margin-top: 5px;
}

/* Estilo dos Bot√µes de A√ß√£o (Responder como Link) */
.action-btn { 
background: none; border: none; cursor: pointer; padding: 5px; margin-left: 8px; line-height: 1; border-radius: 50%;
}

.action-btn:hover {
background-color: #f0f2f5;
transform: scale(1.1);
}

.action-btn.btn-reply {
color: #606770 !important; 
font-size: 0.85em !important;
font-weight: 600 !important; 
padding: 0 5px !important; 
border-radius: 0 !important;
text-transform: capitalize !important;
}

.action-btn.btn-reply:hover {
background: none !important; 
text-decoration: underline; 
transform: none !important;
}

/* Cores dos √çcones de A√ß√£o */
.btn-reply { color: var(--cor-info); }
.btn-edit { color: var(--cor-alerta); }
.btn-delete { color: var(--cor-erro); }

.action-btn svg {
width: 16px;
height: 16px;
stroke-width: 2.5;
stroke: currentColor;
}

/* REGRAS DE SOBRESCRITA (MANUTEN√á√ÉO DE CLASSES ORIGINAIS) */
/* Este bloco √© mantido para garantir que as classes antigas N√ÉO QUEBREM O LAYOUT PRINCIPAL */
.comentario-item {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

.comment-author { font-weight: bold; font-size: 0.9em; }
.comment-date { font-size: 0.6em; color: #888; }
.comment-body p { margin: 5px 0; font-size: 0.9em; word-wrap: break-word; font-weight: 200;}
.comment-actions { text-align: right; margin-top: 10px; }

/* ... (demais estilos de classes antigas) ... */

#filtro-favoritas-btn, 
#filtro-todas-btn, 
#filtro-desatualizadas-btn, 
#filtro-comentadas-btn {
cursor: pointer;
}

/* ESTRELAS NA LISTA DE NORMAS */
.norma-item-content { display: flex; align-items: center; gap: 5px; width: 100%; }
.fav-icon-list { width: 16px; height: 16px; flex-shrink: 0; }
.favs-list-svg { width: 70%; height: 70%; stroke: #aaa; fill: none; transition: all 0.2s ease-in-out; }
.fav-icon-list.favorita .favs-list-svg { fill: #ffc107; stroke: #ffc107; }

/* MODAL SIMPLES (Vinculos) */
.modal-content {
background-color: #fff;
padding: 30px;
border-radius: 8px;
box-shadow: 0 5px 15px rgba(0,0,0,0.3);
width: 90%;
max-width: 600px;
position: relative;
}

.modal-content .close-button {
position: absolute;
top: 15px;
right: 15px;
background: none;
border: none;
font-size: 1.5rem; /* Ajustado */
cursor: pointer;
color: #888;
}

#vinculos-modal-body {
padding-top: 10px;
}

#vinculos-modal-body h3 {
margin-top: 15px;
margin-bottom: 8px;
border-bottom: 1px solid #eee;
padding-bottom: 5px;
font-size: 1.1em;
font-weight: 700;
}

#vinculos-modal-body ul {
list-style-type: disc;
padding-left: 20px;
font-size: 13px;
}

#vinculos-modal-body li {
margin-bottom: 5px;
}